<div fxLayout="column">

  <div class="p-2">
    <front-application-top-menu>
      <input type="search" ngModel name="key" id="searchCategory" class="form-control mr-sm-2"
             placeholder="Search...">
      <button mat-raised-button class="btn btn-primary " style="float: right;" (click)="showAddInsurerDialog('AddInsurer',{})">Add
        Insurer
      </button>
    </front-application-top-menu>
  
    <mat-card class="mat-elevation-z2">
      <mat-card-content>

        <h2 class="pl-2">Insurer</h2>

        <mat-table [dataSource]="dataSource" matSort class="w-100 my-3 mat-elevation-z2">
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Company Name</mat-header-cell>
            <mat-cell *matCellDef="let result"> {{ result?.companyProfile?.name }} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="address">
            <mat-header-cell *matHeaderCellDef mat-sort-header> CompanyEmail</mat-header-cell>
            <mat-cell *matCellDef="let result"> {{ result?.companyProfile?.email }} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="phoneNumber">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Registration Number</mat-header-cell>
            <mat-cell *matCellDef="let result"> {{result?.registrationNumber }} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="city">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Admin Username</mat-header-cell>
            <mat-cell *matCellDef="let result"> {{ result?.admin?.username }} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="action">
            <mat-header-cell *matHeaderCellDef> Action</mat-header-cell>
            <mat-cell *matCellDef="let result">
              <!-- <button mat-icon-button class="view-button" (click)="showInsurerDetails(result)">
                <mat-icon class="mat-18">visibility</mat-icon>

              </button> -->
              <a mat-icon-button class="add-button"
              [routerLink]="'/insurer/list/'+result.id">
          <mat-icon class="mat-18">visibility</mat-icon>
        </a>
              |
              <button mat-icon-button class="view-button" (click)="showAddInsurerDialog('Edit Insurer',result)" >
                <mat-icon class="mat-18">edit</mat-icon>
              </button>
<!--              <a mat-raised-button class="view-button" [routerLink]="'/insurer/branch/'+result.id">View</a>-->
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
    <mat-row
      class="cursor-pointer"
      matRipple
      *matRowDef="let data; columns: columnsToDisplay"

    ></mat-row>
  </mat-table>

  <mat-paginator
    class="mat-elevation-z2"
    [pageSizeOptions]="[10, 20, 50]"
    [pageSize]="10"
  ></mat-paginator>
      </mat-card-content>
    </mat-card>
  </div>
</div>
